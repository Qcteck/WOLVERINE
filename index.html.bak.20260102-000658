<!doctype html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="color-scheme" content="dark"/><title>WOLVERINE • Trades</title><style>:root{--bg:#05060b;--p:#0a0f1e;--b:#1b2a44;--t:#e7f0ff;--m:#9fb3d7;--a:#ff7a18;--a2:#ffb03a;--ok:#7dffb1;--bad:#ff6b6b}*{box-sizing:border-box}html,body{height:100%;margin:0;background:radial-gradient(900px 520px at 20% 0%,#0a1328 0%,transparent 60%),radial-gradient(800px 520px at 85% 15%,#121b35 0%,transparent 55%),linear-gradient(180deg,#05060b,#05060b);color:var(--t);font:14px system-ui,-apple-system,Segoe UI,Roboto,Arial}a{color:inherit;text-decoration:none}#wrap{min-height:100%;display:flex;align-items:flex-start;justify-content:center;padding:22px}#card{width:min(1100px,100%);background:linear-gradient(180deg,rgba(10,15,30,.92),rgba(7,10,20,.92));border:1px solid rgba(27,42,68,.75);border-radius:18px;box-shadow:0 18px 60px rgba(0,0,0,.55);overflow:hidden}#top{display:flex;gap:16px;align-items:center;justify-content:space-between;padding:18px 18px 12px;border-bottom:1px solid rgba(27,42,68,.6)}#brand{display:flex;gap:12px;align-items:center}#logo{width:44px;height:44px;border-radius:12px;background:radial-gradient(circle at 30% 25%,rgba(255,176,58,.35),transparent 60%),linear-gradient(135deg,rgba(255,122,24,.65),rgba(255,176,58,.25));border:1px solid rgba(255,176,58,.25);display:grid;place-items:center;font-weight:900}#title{line-height:1.05}#title b{font-size:16px;letter-spacing:.3px}#title div{color:var(--m);font-size:12px;margin-top:4px}#status{display:flex;gap:10px;align-items:center;flex-wrap:wrap;justify-content:flex-end}._pill{display:inline-flex;gap:8px;align-items:center;padding:8px 10px;border-radius:999px;background:rgba(7,10,20,.65);border:1px solid rgba(27,42,68,.65);color:var(--m)}._dot{width:8px;height:8px;border-radius:99px;background:rgba(159,179,215,.5)}._dot.ok{background:var(--ok)}._dot.bad{background:var(--bad)}#mid{padding:14px 18px 18px;display:grid;gap:12px}.tile{position:relative;padding:14px;border-radius:16px;background:linear-gradient(180deg,rgba(12,18,34,.95),rgba(7,10,20,.85));border:1px solid rgba(27,42,68,.7)}.tile i{position:absolute;right:12px;top:12px;width:10px;height:10px;border-radius:99px;background:linear-gradient(180deg,var(--a2),var(--a));opacity:.9}.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}.btn{cursor:pointer;user-select:none;border:1px solid rgba(27,42,68,.7);background:rgba(7,10,20,.65);color:var(--t);padding:8px 10px;border-radius:12px;font-weight:600}.btn:hover{border-color:rgba(255,176,58,.35)}.btn:disabled{opacity:.5;cursor:not-allowed}.tag{display:inline-flex;gap:8px;align-items:center;padding:8px 10px;border-radius:999px;background:rgba(7,10,20,.65);border:1px solid rgba(27,42,68,.65);color:var(--m)}.mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace}.in{width:min(340px,100%);padding:9px 10px;border-radius:12px;border:1px solid rgba(27,42,68,.7);background:rgba(12,18,34,.75);color:var(--t);outline:none}.in:focus{border-color:rgba(255,176,58,.35)}.hint{color:var(--m);font-size:12px;line-height:1.35}#grid{display:grid;grid-template-columns:1.1fr .9fr;gap:12px}@media(max-width:900px){#grid{grid-template-columns:1fr}}table{width:100%;border-collapse:collapse;font-size:13px}th,td{padding:10px 8px;border-top:1px solid rgba(27,42,68,.55);vertical-align:top}th{color:var(--m);font-weight:700;text-align:left}#foot{display:flex;gap:12px;justify-content:space-between;align-items:center;padding:14px 18px;border-top:1px solid rgba(27,42,68,.6);color:var(--m);font-size:12px;flex-wrap:wrap}</style></head><body><div id="wrap"><div id="card"><div id="top"><div id="brand"><div id="logo">W</div><div id="title"><b>WOLVERINE • Trades</b><div>Budget • Keys • Phantom • Feed</div></div></div><div id="status"><div class="_pill"><span class="_dot" id="apiDot"></span><span id="apiTxt">API: check...</span></div><div class="_pill"><span class="_dot" id="feedDot"></span><span id="feedTxt">Trades: check...</span></div></div></div><div id="mid"><div class="tile"><i></i><b>Hi</b><div class="hint" id="hi">Hi — tracking trades…</div></div><div id="grid"><div class="tile"><i></i><b>Phantom (recommended)</b><div class="row" style="margin-top:10px"><button class="btn" id="btnConnect">Connect</button><button class="btn" id="btnDisc" disabled>Disconnect</button><button class="btn" id="btnRefresh" disabled>Refresh</button><span class="tag mono" id="addrTag">—</span></div><div class="row" style="margin-top:10px"><span class="tag">SOL: <b id="sol">—</b></span><span class="tag">USDC: <b id="usdc">—</b></span><span class="tag">Budget: <b id="bud">—</b></span></div><div class="row" style="margin-top:10px"><input class="in" id="budgetIn" inputmode="decimal" placeholder="Total bot budget (USDC)"><button class="btn" id="btnSaveBudget">Save</button><span class="hint" id="budgetMini">saved: —</span></div><div class="hint" style="margin-top:10px">Budget stored locally (localStorage: <span class="mono">wolv_budget</span>).</div></div><div class="tile"><i></i><b>Keys (optional)</b><div class="hint" style="margin-top:8px">Private key is NOT saved (memory only). Use Phantom whenever possible.</div><div class="row" style="margin-top:10px"><input class="in mono" id="pubIn" placeholder="Public key (base58)"><button class="btn" id="btnUsePub">Use</button></div><div class="row" style="margin-top:10px"><input class="in mono" id="privIn" type="password" placeholder="Private key (base58)"><button class="btn" id="btnShow">Show</button><button class="btn" id="btnClear">Clear</button></div><div class="row" style="margin-top:10px"><span class="tag">Active pub: <b class="mono" id="pubTag">—</b></span></div></div></div><div class="tile"><i></i><b>Trades feed</b><div class="hint" style="margin-top:8px">Reads <span class="mono">/wolverine/trades.json</span> (last 20).</div><div style="overflow:auto;margin-top:8px"><table><thead><tr><th>Time</th><th>Side</th><th>Pair</th><th>Qty</th><th>Price</th><th>Status</th></tr></thead><tbody id="tb"></tbody></table></div></div></div><div id="foot"><div>WOLVERINE • trades</div><div class="mono" id="clock">—</div></div></div></div><script>(()=>{const $=id=>document.getElementById(id);const trunc=a=>a?a.slice(0,4)+"…"+a.slice(-4):"—";const RPC="https://lb.drpc.live/solana/Ah_pmhKMs0qntHMrHyHMTvqg8lcNcRkR8LWNEklbR4ac";const USDC_MINT="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1";const TOKEN_PROGRAM="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";let pub=null;let privMem=null;const rpc=async(method,params)=>{const r=await fetch(RPC,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method,params})});const j=await r.json();if(j.error)throw new Error(j.error.message||"rpc");return j.result;};const getSOL=async(p)=>{const lam=await rpc("getBalance",[p,{commitment:"processed"}]);return lam.value/1e9;};const getUSDC=async(p)=>{const res=await rpc("getParsedTokenAccountsByOwner",[p,{programId:TOKEN_PROGRAM},{commitment:"processed"}]);let sum=0;for(const it of (res.value||[])){const info=it.account?.data?.parsed?.info;const mint=info?.mint;const ui=info?.tokenAmount?.uiAmount; if(mint===USDC_MINT) sum+=Number(ui||0);}return sum;};const loadBudget=()=>{const b=localStorage.getItem("wolv_budget")||"";$("bud").textContent=b||"—";$("budgetMini").textContent="saved: "+(b||"—");};$("btnSaveBudget").onclick=()=>{const v=String($("budgetIn").value||"").trim().replace(",",".");const n=Number(v);if(!isFinite(n)||n<=0){alert("Invalid amount");return}localStorage.setItem("wolv_budget",String(n));loadBudget();};loadBudget();$("btnUsePub").onclick=()=>{const v=String($("pubIn").value||"").trim();if(!v){alert("Public key required");return}pub=v;$("pubTag").textContent=trunc(pub);$("addrTag").textContent=trunc(pub);};$("btnShow").onclick=()=>{const i=$("privIn");i.type=(i.type==="password")?"text":"password";$("btnShow").textContent=(i.type==="password")?"Show":"Hide";};$("btnClear").onclick=()=>{privMem=null;$("privIn").value="";};const apiTxt=$("apiTxt"),apiDot=$("apiDot");const ping=async()=>{try{const r=await fetch("/stats/index.json",{cache:"no-store"});if(!r.ok)throw 0;apiTxt.textContent="API: online";apiDot.className="_dot ok"}catch(e){apiTxt.textContent="API: offline";apiDot.className="_dot bad"}};ping();setInterval(ping,15000);const refresh=async()=>{try{if(!pub){$("sol").textContent="—";$("usdc").textContent="—";return}$("sol").textContent="…";$("usdc").textContent="…";const [s,u]=await Promise.all([getSOL(pub),getUSDC(pub)]);$("sol").textContent=s.toFixed(4);$("usdc").textContent=u.toFixed(2);}catch(e){$("sol").textContent="—";$("usdc").textContent="—";}};const setConn=(ok)=>{$("btnDisc").disabled=!ok;$("btnRefresh").disabled=!ok;};const connect=async()=>{try{const ph=window.solana;if(!ph||!ph.isPhantom){alert("Phantom not found");return}const r=await ph.connect();let pk=(r.publicKey||ph.publicKey);pk=pk.toBase58?pk.toBase58():String(pk);pub=pk;$("addrTag").textContent=trunc(pub);$("pubTag").textContent=trunc(pub);setConn(true);await refresh();}catch(e){alert("Phantom error")}};const disconnect=async()=>{try{const ph=window.solana;if(ph&&ph.isPhantom) await ph.disconnect();}catch(e){}setConn(false);};$("btnConnect").onclick=connect;$("btnDisc").onclick=disconnect;$("btnRefresh").onclick=refresh;setConn(false);const feedDot=$("feedDot"),feedTxt=$("feedTxt"),tb=$("tb");const esc=s=>String(s??"").replace(/[&<>"]/g,c=>({ "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;" }[c]));const render=(arr)=>{tb.innerHTML=(arr||[]).slice(0,20).map(t=>`<tr><td class="mono">${esc(t.time||t.ts||"-")}</td><td>${esc(t.side||"-")}</td><td class="mono">${esc(t.pair||t.symbol||t.mint||"-")}</td><td>${esc(t.qty||t.amount||"-")}</td><td>${esc(t.price||"-")}</td><td>${esc(t.status||"-")}</td></tr>`).join("")||`<tr><td colspan="6" class="hint">No trades yet.</td></tr>`;};const pollTrades=async()=>{try{const r=await fetch("/wolverine/trades.json",{cache:"no-store"});if(!r.ok)throw 0;const j=await r.json();feedTxt.textContent="Trades: online";feedDot.className="_dot ok";render(Array.isArray(j)?j:(j.trades||[]));}catch(e){feedTxt.textContent="Trades: offline";feedDot.className="_dot bad";render([]);}};pollTrades();setInterval(pollTrades,5000);setInterval(()=>{$("clock").textContent=new Date().toISOString();$("hi").textContent="Hi — tracking trades… "+new Date().toLocaleString();},1000);})();</script></body></html>
