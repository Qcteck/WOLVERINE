<!doctype html><html lang="fr"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>WOLVERINE • TraderOne</title><style>:root{--bg:#050816;--panel:rgba(11,18,40,.78);--panel2:rgba(9,14,28,.72);--br:rgba(120,160,255,.18);--br2:rgba(120,160,255,.28);--txt:#eaf0ff;--mut:#a9b7df;--ok:#8dffbf;--bad:#ff8d8d;--warn:#ffd27a;--acc:#59a7ff;--acc2:#7b5bff;--shadow:0 22px 80px rgba(0,0,0,.55),0 0 0 1px rgba(120,160,255,.12) inset;--r:18px;--mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*{box-sizing:border-box}html,body{height:100%;margin:0;background:radial-gradient(1200px 650px at 20% 10%,rgba(89,167,255,.16),transparent 60%),radial-gradient(1000px 550px at 90% 15%,rgba(123,91,255,.12),transparent 55%),radial-gradient(1000px 600px at 50% 110%,rgba(0,255,213,.08),transparent 60%),linear-gradient(180deg,#06081a 0%,#050816 45%,#040510 100%);color:var(--txt);font:14px system-ui,-apple-system,Segoe UI,Roboto,Arial}a{color:var(--acc);text-decoration:none}a:hover{text-decoration:underline}.wrap{max-width:1120px;margin:0 auto;padding:18px}.top{display:flex;align-items:center;gap:12px;padding:14px 14px 10px;border-radius:var(--r);background:linear-gradient(180deg,rgba(14,24,56,.74),rgba(8,12,26,.68));box-shadow:var(--shadow);border:1px solid var(--br)}.logo{width:38px;height:38px;border-radius:12px;background:radial-gradient(circle at 30% 30%,rgba(89,167,255,.95),rgba(123,91,255,.65) 45%,rgba(0,255,213,.18) 80%);box-shadow:0 0 0 1px rgba(255,255,255,.08) inset,0 18px 50px rgba(0,0,0,.45)}.h1{font-weight:800;letter-spacing:.4px}.sub{color:var(--mut);font-size:12.5px;margin-top:2px}.badg{margin-left:auto;display:flex;gap:10px;align-items:center;flex-wrap:wrap}.pill{padding:7px 10px;border-radius:999px;background:rgba(0,0,0,.18);border:1px solid var(--br);color:var(--mut);font-size:12px}.pill b{color:var(--txt)}.grid{display:grid;grid-template-columns:1.05fr .95fr;gap:14px;margin-top:14px}@media(max-width:980px){.grid{grid-template-columns:1fr}}.card{background:linear-gradient(180deg,rgba(12,18,44,.78),rgba(7,10,22,.72));border:1px solid var(--br);border-radius:var(--r);box-shadow:var(--shadow);overflow:hidden}.card h3{margin:0;padding:14px 14px 0;font-size:13px;letter-spacing:.3px;color:var(--mut);font-weight:700}.card .in{padding:14px}.row{display:flex;gap:10px;flex-wrap:wrap}.col{flex:1;min-width:170px}.lbl{font-size:12px;color:var(--mut);margin:0 0 6px}.inp,select,button,textarea{font:inherit}.inp,select,textarea{width:100%;padding:11px 12px;border-radius:14px;border:1px solid var(--br2);background:rgba(0,0,0,.20);color:var(--txt);outline:none;box-shadow:0 0 0 1px rgba(0,0,0,.18) inset}.inp:focus,select:focus,textarea:focus{border-color:rgba(89,167,255,.55);box-shadow:0 0 0 3px rgba(89,167,255,.15)}.btn{padding:11px 12px;border-radius:14px;border:1px solid var(--br2);background:linear-gradient(180deg,rgba(89,167,255,.24),rgba(123,91,255,.14));color:var(--txt);cursor:pointer;user-select:none;transition:transform .06s ease,filter .12s ease}.btn:hover{filter:brightness(1.08)}.btn:active{transform:translateY(1px)}.btn2{background:rgba(0,0,0,.18)}.btnDanger{background:linear-gradient(180deg,rgba(255,141,141,.22),rgba(0,0,0,.12));border-color:rgba(255,141,141,.28)}.btnOk{background:linear-gradient(180deg,rgba(141,255,191,.22),rgba(0,0,0,.12));border-color:rgba(141,255,191,.25)}.mini{font-size:12px;color:var(--mut);line-height:1.35}.mini b{color:var(--txt)}.hr{height:1px;background:rgba(120,160,255,.12);margin:12px 0}.kpi{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}@media(max-width:560px){.kpi{grid-template-columns:1fr}}.k{padding:10px 12px;border-radius:14px;border:1px solid rgba(120,160,255,.14);background:rgba(0,0,0,.14)}.k .t{font-size:11px;color:var(--mut)}.k .v{margin-top:4px;font-family:var(--mono);font-size:13px}.ok{color:var(--ok)}.bad{color:var(--bad)}.warn{color:var(--warn)}.log{height:330px;overflow:auto;padding:12px;border-radius:14px;border:1px solid rgba(120,160,255,.16);background:rgba(0,0,0,.18);font-family:var(--mono);font-size:12px;white-space:pre-wrap;word-break:break-word}.foot{margin-top:10px;color:var(--mut);font-size:12px;display:flex;gap:10px;flex-wrap:wrap}.spin{display:inline-block;width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,.22);box-shadow:0 0 0 2px rgba(89,167,255,.12);animation:pulse 1.2s infinite}@keyframes pulse{0%{transform:scale(.9);opacity:.55}50%{transform:scale(1.25);opacity:1}100%{transform:scale(.9);opacity:.55}}</style></head><body><div class="wrap"><div class="top"><div class="logo"></div><div><div class="h1">WOLVERINE</div><div class="sub">TraderOne • API: <span id="apiBaseLbl"></span> • Refresh adaptatif • Monitoring TG</div></div><div class="badg"><div class="pill">API <b id="apiOk">...</b></div><div class="pill">Bot <b id="botState">...</b></div><div class="pill">Ping <b id="pingState">...</b></div><div class="pill">Loop <b id="loopState">...</b></div></div></div><div class="grid"><div class="card"><h3>Control</h3><div class="in"><div class="row"><div class="col"><div class="lbl">Wallet (Phantom)</div><div class="row"><button class="btn" id="btnConnect">Connect</button><button class="btn btn2" id="btnDisconnect">Disconnect</button></div></div><div class="col"><div class="lbl">Adresse Phantom</div><input class="inp" id="phPub" placeholder="non connecté" readonly/></div></div><div class="hr"></div><div class="kpi"><div class="k"><div class="t">SOL</div><div class="v" id="solBal">-</div></div><div class="k"><div class="t">USDC</div><div class="v" id="usdcBal">-</div></div><div class="k"><div class="t">Custody (TraderOne)</div><div class="v" id="custodyPub">-</div></div></div><div class="hr"></div><div class="row"><div class="col"><div class="lbl">Budget (USDC)</div><input class="inp" id="budget" inputmode="decimal" placeholder="ex: 50"/></div><div class="col"><div class="lbl">Mode</div><select id="mode"><option value="safe_dca">DCA buy SOL (safe)</option><option value="microcap_radar">Microcap radar (risk)</option><option value="manual_token">Manual token buy</option></select></div><div class="col"><div class="lbl">Mint (si Manual token)</div><input class="inp" id="mint" placeholder="SPL mint (solana)"/></div></div><div class="row" style="margin-top:10px"><button class="btn btnOk" id="btnStart">Start WOLVERINE</button><button class="btn btnDanger" id="btnStop">Stop</button><button class="btn btn2" id="btnRefresh">Refresh</button><button class="btn btn2" id="btnPing">Ping</button></div><div class="hr"></div><div class="mini"><b>Important:</b> si tu actives le mode custodial côté backend, l’API utilisera la clé du serveur. Le frontend ici n’envoie pas de clé privée par défaut. Dépôt: envoie SOL/USDC vers l’adresse “Custody” affichée (si dispo).</div></div></div><div class="card"><h3>Console</h3><div class="in"><div class="log" id="log"></div><div class="foot"><span>Dernier refresh: <b id="lastTs">-</b></span><span>Latence: <b id="lastMs">-</b></span><span>Erreurs: <b id="errCnt">0</b></span><span><span class="spin"></span> auto</span></div></div></div></div></div><script>/* BLOC 1/6 helpers */(()=>{const $=s=>document.querySelector(s);window.__WOLV__={$,S:{apiBase:"/wolverine/api",pollFast:900,pollSlow:2600,pollErr:4200,live:false,ph:null,phKey:null,err:0,lastMs:0,ab:null},U:{now:()=>new Date(),ts:()=>new Date().toISOString().replace("T"," ").replace("Z"," UTC"),fmt:(n,d=4)=>{if(n==null||Number.isNaN(+n))return"-";return(+n).toLocaleString(undefined,{maximumFractionDigits:d})},log:(m,t="info")=>{const el=$("#log");const p=document.createElement("div");p.textContent=`${new Date().toISOString()} ${m}`;p.style.color=t==="ok"?"var(--ok)":t==="bad"?"var(--bad)":t==="warn"?"var(--warn)":"var(--txt)";el.appendChild(p);el.scrollTop=el.scrollHeight;},set:(id,v,cls)=>{const e=$(id);if(!e)return;e.textContent=v;if(cls){e.classList.remove("ok","bad","warn");e.classList.add(cls)}},sleep:(ms)=>new Promise(r=>setTimeout(r,ms)),j:(o)=>JSON.stringify(o),safeJson:async(r)=>{const tx=await r.text();try{return JSON.parse(tx)}catch{return{ok:false,error:"bad_json",raw:tx}}}};})();</script><script>/* BLOC 2/6 UI bind */(()=>{const {S,U,$}=window.__WOLV__;$("#apiBaseLbl").textContent=S.apiBase;$("#btnRefresh").onclick=()=>window.__WOLV__.A.refreshAll("manual");$("#btnPing").onclick=()=>window.__WOLV__.A.ping();$("#btnStart").onclick=()=>window.__WOLV__.A.start();$("#btnStop").onclick=()=>window.__WOLV__.A.stop();})();</script><script>/* BLOC 3/6 Phantom */(()=>{const {S,U,$}=window.__WOLV__;async function getPh(){return window.solana&&window.solana.isPhantom?window.solana:null}async function connect(){try{const ph=await getPh();if(!ph){U.log("Phantom non détecté (mobile: ouvre dans Phantom browser).","warn");return}S.ph=ph;const r=await ph.connect({onlyIfTrusted:false});const pub=(r&&r.publicKey?r.publicKey:ph.publicKey);S.phKey=pub?pub.toString():"";$("#phPub").value=S.phKey||"";U.log("Phantom connecté: "+(S.phKey||"?"),"ok");await window.__WOLV__.A.refreshBalances();}catch(e){U.log("Connect Phantom erreur: "+(e&&e.message?e.message:e),"bad")}}async function disconnect(){try{if(S.ph&&S.ph.disconnect)await S.ph.disconnect();S.ph=null;S.phKey="";$("#phPub").value="";U.log("Phantom déconnecté.","warn");}catch(e){U.log("Disconnect erreur: "+(e&&e.message?e.message:e),"bad")}}document.getElementById("btnConnect").onclick=connect;document.getElementById("btnDisconnect").onclick=disconnect;})();</script><script>/* BLOC 4/6 API client */(()=>{const {S,U,$}=window.__WOLV__;async function req(path,opt){if(S.ab)try{S.ab.abort()}catch{}S.ab=new AbortController();const t0=performance.now();let r=null;try{r=await fetch(S.apiBase+path,{...opt,signal:S.ab.signal,headers:{...(opt&&opt.headers||{}), "content-type":"application/json"}});const ms=Math.round(performance.now()-t0);S.lastMs=ms;$("#lastMs").textContent=ms+"ms";return r}catch(e){S.err++;$("#errCnt").textContent=String(S.err);throw e}}async function getJSON(path){const r=await req(path,{method:"GET"});return U.safeJson(r)}async function postJSON(path,body){const r=await req(path,{method:"POST",body:JSON.stringify(body||{})});return U.safeJson(r)}window.__WOLV__.API={getJSON,postJSON,req};})();</script><script>/* BLOC 5/6 Actions + refresh */(()=>{const {S,U,$}=window.__WOLV__;const API=window.__WOLV__.API;async function health(){try{const j=await API.getJSON("/health");U.set("#apiOk",j&&j.ok?"OK":"ERR",j&&j.ok?"ok":"bad");return j}catch(e){U.set("#apiOk","ERR","bad");U.log("health erreur: "+(e&&e.message?e.message:e),"bad");return{ok:false}}}async function ping(){try{const r=await API.req("/ping",{method:"GET"});const tx=await r.text();const ok=(tx||"").toLowerCase().includes("pong");U.set("#pingState",ok?"pong":"ERR",ok?"ok":"bad");if(ok)U.log("ping: pong","ok");else U.log("ping: "+tx.slice(0,120),"warn");return ok}catch(e){U.set("#pingState","ERR","bad");U.log("ping erreur: "+(e&&e.message?e.message:e),"bad");return false}}async function config(){try{const r=await fetch(S.apiBase+"/config",{method:"GET"});if(r.status===404){U.log("config: endpoint absent (ok).","warn");return null}const j=await U.safeJson(r);return j}catch(e){return null}}async function status(){try{const j=await API.getJSON("/status");return j}catch(e){U.log("status erreur: "+(e&&e.message?e.message:e),"bad");return{ok:false}}}async function refreshBalances(){try{if(!S.ph||!S.phKey){$("#solBal").textContent="-";$("#usdcBal").textContent="-";return}const pub=S.phKey;const j=await API.postJSON("/phantomBalances",{pub});if(j&&j.ok){$("#solBal").textContent=U.fmt(j.sol,6);$("#usdcBal").textContent=U.fmt(j.usdc,2);return}U.log("balances: "+(j&&j.error?j.error:"ERR"),"warn");}catch(e){U.log("balances erreur: "+(e&&e.message?e.message:e),"bad")}}async function start(){const budget=parseFloat($("#budget").value||"0");const mode=$("#mode").value;const mint=$("#mint").value.trim();if(!(budget>0)){U.log("Budget invalide.","warn");return}try{const j=await API.postJSON("/start",{budget,mode,mint,phantomPub:S.phKey||""});U.log("start: "+U.j(j),j&&j.ok?"ok":"warn");await refreshAll("start");}catch(e){U.log("start erreur: "+(e&&e.message?e.message:e),"bad")}}async function stop(){try{const j=await API.postJSON("/stop",{});U.log("stop: "+U.j(j),j&&j.ok?"ok":"warn");await refreshAll("stop");}catch(e){U.log("stop erreur: "+(e&&e.message?e.message:e),"bad")}}async function refreshAll(src){$("#lastTs").textContent=U.ts();await health();await ping();const st=await status();const live=!!(st&&((st.running===true)||(st.live===true)||(st.state&&String(st.state).toLowerCase().includes("run"))));S.live=live;U.set("#botState",live?"RUN":"IDLE",live?"ok":"warn");U.set("#loopState",live?"FAST":"SLOW",live?"ok":"warn");if(st&&st.custodyPubkey)$("#custodyPub").textContent=st.custodyPubkey;else{const cfg=await config();if(cfg&&cfg.custodyPubkey)$("#custodyPub").textContent=cfg.custodyPubkey}await refreshBalances();if(st&&st.note)U.log("status: "+st.note,"info");if(src)U.log("refresh("+src+") ok","ok");}window.__WOLV__.A={health,ping,status,config,start,stop,refreshAll,refreshBalances};})();</script><script>/* BLOC 6/6 Poll loop (refresh fort) */(()=>{const {S,U}=window.__WOLV__;const A=window.__WOLV__.A;async function loop(){for(;;){let delay=S.live?S.pollFast:S.pollSlow;try{await A.refreshAll("auto");}catch(e){S.err++;document.getElementById("errCnt").textContent=String(S.err);U.log("loop erreur: "+(e&&e.message?e.message:e),"bad");delay=S.pollErr}await U.sleep(delay)}}A.refreshAll("boot");loop();})();</script>
<!--WOLV_PATCH_V1-->
<style id="wolvPatchCss">
html,body{background:radial-gradient(900px 520px at 20% 0%,rgba(170,0,255,.22) 0%,transparent 60%),radial-gradient(700px 460px at 85% 20%,rgba(0,190,255,.16) 0%,transparent 55%),#040512!important}
#wolvPatchBar{position:fixed;top:10px;right:10px;z-index:2147483647;display:flex;gap:8px;align-items:center;padding:8px 10px;border-radius:12px;border:1px solid rgba(255,255,255,.18);background:rgba(10,12,25,.72);backdrop-filter:blur(8px);color:#eaf1ff;font:12px system-ui;box-shadow:0 10px 30px rgba(0,0,0,.35)}
#wolvPatchBar b{letter-spacing:.4px}
#wolvLangBtn{cursor:pointer;user-select:none;padding:6px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.22);background:rgba(120,160,255,.14);color:#eaf1ff}
</style>
<div id="wolvPatchBar"><b>PATCH OK</b><span id="wolvPatchVer">2026-01-03</span><button id="wolvLangBtn" type="button">EN</button></div>
<script id="wolvPatchJs">
(()=>{const K="WOLV_LANG";const btn=()=>document.getElementById("wolvLangBtn");
const mapFR2EN=new Map([
["Adresse Phantom","Phantom address"],["non connecté","not connected"],["Connecté","Connected"],
["Budget (USDC)","Budget (USDC)"],["Mode","Mode"],["Mint (si Manual token)","Mint (manual token)"],
["Console","Console"],["Control","Control"],["Wallet (Phantom)","Wallet (Phantom)"],
["Important si tu actives le mode custodial côté backend, l\x27API utilisera la clé du serveur. Le frontend ici n\x27envoie pas de clé privée par défaut. Dépôt: envoie SOL/USDC vers l\x27adresse \x22Custody\x22 affichée (si dispo).",
"Important: if you enable custodial mode server-side, the API uses the server key. This frontend does not send a private key by default. Deposit: send SOL/USDC to the displayed "Custody" address (if available)."]
]);
const mapEN2FR=new Map(Array.from(mapFR2EN,([k,v])=>[v,k]));
function walkAndReplace(root,dict){
const tree=document.createTreeWalker(root,NodeFilter.SHOW_TEXT,null,false);
let n; while((n=tree.nextNode())){
const t=(n.nodeValue||"").trim();
if(!t) continue;
if(dict.has(t)) n.nodeValue=n.nodeValue.replace(t,dict.get(t));
}
}
function apply(lang){
try{localStorage.setItem(K,lang);}catch(_){}
btn().textContent=lang;
const dict = (lang==="FR")?mapEN2FR:mapFR2EN;
walkAndReplace(document.body,dict);
}
function init(){
const saved=((()=>{try{return localStorage.getItem(K)||""}catch(_){return""}})());
const lang = saved==="FR"?"FR":"EN";
btn().onclick=()=>apply(btn().textContent==="EN"?"FR":"EN");
apply(lang);
}
if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",init); else init();
})();
</script>
<!--/WOLV_PATCH_V1-->
</body></html>
